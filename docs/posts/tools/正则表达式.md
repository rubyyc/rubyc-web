---
date: 2020-01-01
category:
  - CategoryC
tag:
  - tag E
sticky: 10
archive: false
---

# 正则表达式

## 规则

- 正则表达式按位描述规则，是指它是一位一位的描述字符串的构成形式

## 创建

```js
var regexp = /^\d{6}$/
var regexp = new RegExp('^\\d{6}$')
```

## 元字符

指一位指定类型的字符

|元字符|功能|等价|
|-|-|-|
|\|d匹配一个数字|[0-9]|
|\|D匹配一个非数字|[^0-9]|
|\|w匹配一个单字符（字母，数字，下划线）|[A-Za-z0-9_]|
|\|W匹配一个非单字符（字母，数字，下划线）|[^A-Za-z0-9_]|
|\|s匹配一个空白字符,包含空格，制表符，换行符|-|
|.|任意字符|-|
|^|匹配开头|-|
|$|匹配结尾|-|


## 字符转义

```js
/^.$/      //检查任意字符
/^\.$/     // 检查字符串是不是一个点
```

## 方括号表示法

[xyx]表示匹配其中的任意字符x,y,z
相关等价表示看[等价](#元字符)

## 量词

|量词|意义|等价|
|-|-|-|
|*|匹配前一个表达式0次或者多次|{0,}|
|+|匹配前一个表达式1次或者多次|{1,}|
|?|匹配前一个表达式0或1次|{0,1}|
|{n}|n是正整数,匹配前一个字符刚好出现n次|-|
|{n,}|n是正整数,匹配前一个字符至少出现n次|-|
|{n,m}|n,m是正整数,匹配前一个字符至少n,至多m|-|


## 修饰符

- i表示不区分大小写
- g表示全局搜索

```js
var re = /m/gi

var re = new RegExp('m','gi')
```

## 正则表达式的相关方法

- test()测试某字符串是否匹配表达式,返回布尔值
- exec()根据正则表达式,在字符串中查找，返回结果数组或者null

### exec()方法

```js
var str8 = 'abc123def456ghi789'
// +号表示贪婪的,尽可能匹配
var regex8 = /\d+/g

while(result = regex8.exec(str8)){
  console.log(result);
}
```


## 字符串中有哪些方法可以使用正则表达式呢

- search() 在字符串中根据正则表达式进行查找匹配，返回首次匹配到的位置所以，否则返回-1
- match() 在字符串中根据正则表达式进行查找匹配，返回一个数组，否则返回-1
- replace() 字符串替换
- splice() 分隔字符串为数组

## 常用的正则表达式

### 验证是否符合手机号

```js
/^1\d{10}$/
/139|188|155/
```

### 检查某个字符串是6位数字

```js
var str = '456789'
var regexp = /^\d{6}$/
if(regexp.test(str)){
}
```

### 检查某个字符串是m开头,然后是3个数字，最后以字母n结尾

```js
var regexp = /^m\d\d\dn$/
var regexp = /^m\d{3}n$/
```

### 第一个是字母[by]后面7位数字

```js
var regexp = /^[by]\d{7}$/
```

### 验证某字符串是否是5位字母,大小写均可

```js
var regex4 = /^[A-Za-z]{5}$/
```

### 验证某字符串是否是5位,且仅有小写字母点构成
```js
var regex5 = /^[a-z\.]{5}$/
```

### 验证某字符串是否是4位小写字母且最后一位不能是m
```js
// [^m]只能约束不是m,是数字的话则不符合题意,错误的写法
var regex6 = /^[a-z]{3}[^m]$/

// 正确的写法
var regex6 = /^[a-z]{3}[a-ln-z]$/
```

### 以字母开头,中间任意数字,至少1位,字母结尾

```js
/^[A-Za-z]\d+[A-Za-z]$/
```

### 符合网站www.开头中间任意字符(字母数字下划线)最后.com结尾,或者.com.cn结尾

```js
/^www\.\w+\.com(.cn)?$/
```

### 中文姓名是否合法

```js
/^[\u4E00-\u9FA5]{2,4}$/
```